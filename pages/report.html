<!doctype html>
<html lang=ru>
<meta charset=utf-8>

<title>OpenBSD: Отчёты о проблемах</title>
<meta name="description" content="OpenBSD problem report page">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" href="openbsd.css">
<link rel="canonical" href="https://www.openbsd.org/report.html">

<style>
h3 {
	color: var(--blue);
}
</style>

<h2 id=OpenBSD>
<a href="index.html">
<i>Open</i><b>BSD</b></a>
Отчёты о проблемах
</h2>

<hr>

<h3>Отчёты о проблемах в выпущенных версиях (-release, -stable)</h3>

<p>
Прежде чем сообщать об ошибках/проблемах в выпущенных версиях, просмотрите
этот контрольный список:

<ol>
 <li>Во-первых, проверьте есть ли
    <a href="errata.html">исправления или какая-то информация, касающаяся релиза</a>.
 <li>Затем выясните, есть ли более новая версия OpenBSD.
 <li>Наконец, просмотрите
    <a href="https://www.openbsd.org/plus.html">изменения между версиями OpenBSD</a>.
</ol>

<p>
Если из всего найденного ничто не относится к вашей проблеме, то, пожалуйста,
ознакомьтесь с документацией о <a href="https://man.openbsd.org/sendbug">sendbug(1)</a>
прежде чем отправить отчет.

<h3>Отчёты о проблемах в -current</h3>

<p>
Если вы нашли проблему в -current, а не в -release или -stable, то

<ol>
 <li>Постарайтесь воспроизвести проблему по крайней мере дважды. При этом не сразу же
     раз за разом, но с периодичностью в несколько дней, при этом обноляясь (загружайте
     в течение этогого времени новый код из репозитория).
 <li>Не сообщайте о проблемах связанных с компиляцией исходников.
     Почти всегда это либо ваша ошибка, либо о ней уже известно, и над ее исправлением
     уже работают. Люди, работающие над кодом проекта, запускают
     <a href="faq/faq5.html">make build</a> по крайней мере раз в день, и как правило по
     несколько раз в день на разных архитектурах.
 <li>Помните, что синхронизация <a href="anoncvs.html">AnonCVS</a> серверов отстает на
     несколько часов от сервера с исходниками, которыми пользуются разработчики.
 <li>Проверьте <a href="https://www.openbsd.org/plus.html">изменения, внесенные уже после
     официального релиза</a>, чтобы убедиться, что проблема была устранена.
 <li>Большое внимание уделяется созданию снапшотов.
     Иногда происходят ошибки, и мы опаздываем с извинениями. Чтение или отправка письма
     в рассылку будет более разумным, чем отправка в отчете об ошибке.
</ol>

<h3>Как создать хороший отчет о проблеме/ошибке</h3>

<p>
<strong>Всегда предоставляйте как можно больше информации</strong>.
Попробуйте точно определить проблему. Дайте четкие пошаговые инструкции о том, как
можно воспроизвести проблему. Постарайтесь описать её с максимально возможной точностью
и не вводящей в заблуждение терминологией, особенно если ошибку нелегко воспроизвести.
Описывать проблемы словами "it crashes" («это ломается») или "I get strange
interrupt issues on this one box that I built" («я получаю странные проблемы с
прерываниями на этом одной из собранных мной машин») бессмысленно.
Пообщайтесь с другими пользователями (в списках рассылки или на любом другом форуме,
где собираются опытные люди) и постарайтесь получить подтверждение, что проблема
является новой и желательно воспроизводимой/повторяемой.
Пожалуйста, убедитесь, что это не локальная проблема, возникающая по причине
сломанного или неподдерживаемого оборудования или из-за использования
неподдерживаемых параметров сборки или программного обеспечения.

<p>
Пожалуйста, не начинайте работать над исправлением проблем, которые требуют
значительных временных затрат и усилий, если вы не уверены, что понимаете их.
Особенно это касается кода, используемого в уже вышедьших релизах, где мы не
должны изменять основные части кода.
Если вы собираетесь работать над объемной частью кода, сообщите об этом нам в
рассылке, чтобы все знали о ваших планах, и чтобы быть увененным, что никто
другой уже не работает над этой же проблемой (чтобы исключить дублирования работы).

<p>
Следующая информация должна содержаться в каждом отчете:

<ol>
 <li>Точная последовательность шагов, необходимая для воспроизведения проблемы.
     Информация должна быть самодостаточной; недостаточно отправить нам имя команды
     без аргументов и параметров, которые вы ей передали.
     Если ошибка требует определенной последовательности событий, перечислите их.
     Рекомендуется минимизировать размер вашего примера, но это лишь рекомендация.
     Если ошибка воспроизводится, мы найдем её в любом случае.
<p>
 <li>Вывод от команды, который вы получили.
     Пожалуйста, не говорите, что это «не сработало» или «не удалось».
     Если вы получили сообщение об ошибке, покажите его нам, даже если вы его не
     понимаете.
     Если ядро OpenBSD выбрасывает kernel panic, и вы видете ошибку, скажите нам
     об этом. Если ничего не происходит, скажите, что ничего не происходит.
     Даже если результатом описанных вами шагов является сбой программы или по-вашему
     мнению он очевиден, у нас может не получиться воспроизвести ошибку.
     Проще всего скопировать вывод с терминала, если это возможно.
<p>
     Примечание. В случае фатальных ошибок предоставленное сообщение об ошибке может
     содержать не всю доступную информацию. В этом случае просмотрите выходные данные
     в файлах системного журнала, например, хранящиеся в <code>/var/log</code>.
     Кроме того, если вы имеете дело с приложением, которое имеет свои собственные
     log-файлы, например httpd, проверьте наличие ошибок и там.
<p>
 <li>Вывод ядра OpenBSD.
     Вы можете его увидеть при помощи команды dmesg, но возможно, что ваш вывод
     dmesg не будет содержать всей информации, которая содержится в
     <code>/var/run/dmesg.boot</code>.
     Если это так, покажите информацию оттуда и оттуда.
     <strong>Пожалуйста, всегда предоставляйте нам эту информацию при отправке
     отчетов.</strong>
<p>
 <li>Если вы используете программное обеспечение, установленное из вне (third party
     software), которое так или иначе может быть связано с вашей ошибкой, скажите
     нам об этом, в том числе и её версию.
     Если речь идет о снапшоте, не забудьте сказать нам об этом. Важным тут является
     дата и время его создания.
<p>
 <li>Traceback полученный в результате ошибки в ядре.
     Если в вашем ядре произошла ошибка, и вы получили приглашение
     <a href="https://man.openbsd.org/ddb">ddb(4)</a>, то пожалуйста предоставьте
     panic message, а также вывод команд <kbd>trace</kbd> и <kbd>ps</kbd> в вашем
     отчете об ошибках.
     Если машина зависает, попробуйте сделать <kbd>sysctl ddb.console = 1</kbd>
     до зависания и войти в DDB при помощи нажатия Ctl+Alt+Esc на клавиатуре
     (вы НЕ должны быть в графическом окружении) или отправить BREAK при использовании
     последовательной консоли (serial console).
     Если по какой-либо причине panic message не отображается, вы можете увидеть
     его при помощи команды <kbd>show panic</kbd>.
     <strong>Это важно, если это возможно. Отчеты о kernel panic без panic message,
     traceback и вывода комадны ps бессмысленны.</strong>.
     Также может быть интересным вывод <kbd>show registers</kbd>.
     Вам может потребоваться перезагрузка при помощи <kbd>boot dump</kbd>, чтобы
     образ ядра мог быть сохранен при помощи
     <a href="https://man.openbsd.org/savecore">savecore(8)</a> для последующей
     отладки, как описано на справочной странице
     <a href="https://man.openbsd.org/crash">crash(8)</a>.
<p>
 <li>Если вы сообщаете о проблеме в X Window System для архитектуры, которая
     использует X.Org, то предоставьте нам содержание файлов
     <code>/var/log/Xorg.0.log</code> и <code>dmesg.boot</code>.
</ol>

<p>
Не переживайте, если ваш отчет об ошибке получится довольно большим.
Такова жизнь. Лучше сообщать обо всём сразу, чем нам потом вытягивать все
необходимое из вас. С другой стороны, если ваши log-файлы огромны, то возможно
стоит спросить, заинтересован ли в них кто-нибудь.

<h3 id="bugtypes">Отправка отчета об ошибке</h3>

<p>
Если это возможно, используйте команду
<a href="https://man.openbsd.org/sendbug">sendbug(1)</a> для создания отчета.
Он автоматически добавит в отчет некоторую полезную информацию о вашем оборудовании,
которая поможет диагностировать многие проблемы. Для использования этого инструмента
требуется, чтобы ваша система могла правильно отправлять email.
Если вы не можете использовать sendbug на работающем компьютере с OpenBSD, создайте
отчет вручную и отправьте его на <a href="mailto:bugs@openbsd.org">bugs@openbsd.org</a>.

<p>
Если вы отравляете не отчет об ошибке, а спрашиваете о новых возможностях системы,
помните, что на подобные запросы смотрят намного лояльнее, если вы отправляете и код,
который реализует предложенные вами новые возможности.

<p>
Для отладки некоторых специфичных проблем у нас должно быть оборудование, на котором
мы могли бы эту проблему воспроизвести.
Пожалуйста, помните, что ресурсы проекта OpenBSD ограничены. Вы можете
<a href="https://www.openbsd.org/want.html">пожертвовать некоторое оборудование</a>.
